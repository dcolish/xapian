Wed Dec 08 16:39:30 GMT 2004  Olly Betts <olly@survex.com>

	* source/queryserver.cpp: Use new Database ctor instead of
	  Auto::open().

Tue Nov 30 23:05:06 GMT 2004  Olly Betts <olly@survex.com>

	* configure.ac: Bumped version number to 0.8.4 so that the CVS
	  snapshots all show consistent versions.

Tue Nov 09 03:05:29 GMT 2004  Olly Betts <olly@survex.com>

	* configure.ac,Makefile.am: We now get -AA or -std strict_ansi from
	  xapian-config, so we don't need to probe for them ourselves.

Sun Nov 07 05:00:24 GMT 2004  Olly Betts <olly@survex.com>

	* configure.ac: rearrange so that libtool is active when we test if
	  the c++ compiler can link a program so it can pull in libstdc++
	  through a .la file.

Fri Nov 05 17:23:36 GMT 2004  Olly Betts <olly@survex.com>

	* configure.ac: AM_CONFIG_HEADER -> AC_CONFIG_HEADERS; Run tests using
	  the C++ compiler; select ANSI mode for aCC and cxx; Check GXX not
	  GCC when chosing warning flags.

Wed Nov 03 10:33:15 GMT 2004  Olly Betts <olly@survex.com>

	* source/queryserver.cpp: Use SOCKLEN_T as the latest TYPE_SOCKLEN_T
	  autoconf test requires; include winsock2.h instead of sys/socket.h
	  on windows.

Wed Nov 03 01:21:47 GMT 2004  Olly Betts <olly@survex.com>

	* acinclude.m4: Updated TYPE_SOCKLEN_T macro.

Tue Nov 02 05:52:15 GMT 2004  Olly Betts <olly@survex.com>

	* configure.ac: Bumped version number to 0.8.3 so that the CVS
	  snapshots all show consistent versions.

Tue Nov 02 05:50:17 GMT 2004  Olly Betts <olly@survex.com>

	* Makefile.am,configure.ac,source/base64.c,source/base64.cc,
	  source/base64.h: Compile everything as C++.

Tue Nov 02 05:46:41 GMT 2004  Olly Betts <olly@survex.com>

	* source/queryserver.cpp: #include <config.h> is preferable to
	  #include "config.h" (according to the autoconf manual)

Mon Sep 13 16:33:39 BST 2004  Olly Betts <olly@survex.com>

	* configure.ac: Bumped version number to 0.8.2 so that the CVS
	  snapshots all show consistent versions.

Mon Sep 13 16:31:55 BST 2004  Olly Betts <olly@survex.com>

	* source/queryserver.cpp: Corrected a couple of typos in comments.

Fri Sep 03 15:13:15 BST 2004  Olly Betts <olly@survex.com>

	* acinclude.m4: Actually put the macro definition for TYPE_SOCKLEN_T
	  here, rather than fishing it out of xapian-core with m4_include -
	  newer aclocal doesn't seem to like that.

Wed May 19 16:27:46 BST 2004  Richard Boulton <richard@tartarus.org>

	* Remove the code to strip non-alnums and reprocess the query in
	  case of a failure to parse a query - this is now implemented in
	  the queryparser itself.

Tue May 11 17:15:34 BST 2004  Richard Boulton <richard@tartarus.org>

	* If the queryserver can't parse a query, strip out all special
	  characters, and then retry.  This means that we get some kind of
	  result even if the query is broken.

Tue May 11 12:54:55 BST 2004  Richard Boulton <richard@tartarus.org>

	* Disable documentation build until we can expect to have halibut on
	  developers machines.

Tue May 11 11:52:26 BST 2004  Richard Boulton <richard@tartarus.org>

	* clients/queryclient.php: Don't strip newlines out of the data
	  we're going to pass to base64_decode(), incase we get a fussy
	  implementation that cares about overlong lines.

Tue May 11 11:28:13 BST 2004  Richard Boulton <richard@tartarus.org>

	* source/base64.c: Include newlines in the encoded length returned
	  by base64_encode().

Tue May 11 10:22:53 BST 2004  Richard Boulton <richard@tartarus.org>

	* clients/queryclient.php: Fix bug with parsing long data fields,
	  and add setCollapse() method.
	* docs/xapian-queryserver.but: Document setCollapse() method.
	* source/queryserver.cpp: Implement collapsekey.

Wed Apr 28 12:02:27 BST 2004  Richard Boulton <richard@tartarus.org>

	* docs/: Split protocol description into a separate file, and
	  remove it from the manual for now.

Wed Apr 28 11:43:19 BST 2004  Richard Boulton <richard@tartarus.org>

	* source/base64.h: Remove definition of array as variable sized -
	  sunpro compiler didn't like it.
	* source/queryserver.cpp: Include config.h at beginning - needed so
	  that MacOSX picks up the definition of socklen_t.

Tue Apr 27 22:53:41 BST 2004  Richard Boulton <richard@tartarus.org>

	* docs/xapian-queryserver.but: Finish documenting the PHP client.
	  Only remaining section is the protocol description appendix.

Tue Apr 27 22:11:25 BST 2004  Richard Boulton <richard@tartarus.org>

	* clients/index.php: Reformat to match the example in the manual.
	* clients/xapian-queryclient.php: Remove default argument on
	  constructor of Enquiry object.
	* docs/xapian-queryserver.but: Mostly documented the PHP client.
	* source/queryserver.cpp: Add a '#' after the last hit, so that
	  we can easily notice it in the PHP client.

Tue Apr 27 16:00:29 BST 2004  Richard Boulton <richard@tartarus.org>

	* docs/Makefile.am: Temporarily disable building of documentation:
	  ordering of cvs timestamps isn't reliable enough to guarantee
	  that build doesn't try to rebuild documentation when it doesn't
	  need to.  Therefore unless I disable this halibut is required on
	  any machine running make dist, and halibut isn't yet widespread
	  enough for this to be reasonable.

Tue Apr 27 15:19:29 BST 2004  Richard Boulton <richard@tartarus.org>

	* docs/Makefile.am: New file.  Builds text, info, pdf, man and html
	  documentation.
	* docs/xapian-queryserver-manpage.but: Add man page.
	* Makefile.am, configure.ac: Move parts of Makefile.am into
	  docs/Makefile.am

Tue Apr 27 13:19:36 BST 2004  Richard Boulton <richard@tartarus.org>

	* Makefile.am, configure.ac: If halibut is available, use it to
	  build the documentation.

Tue Apr 27 12:12:01 BST 2004  Richard Boulton <richard@tartarus.org>

	* docs/: Beginnings of documentation.  Written in halibut, but
	  for now I'll commit the generated .txt version as well.

Tue Apr 27 10:20:13 BST 2004  Richard Boulton <richard@tartarus.org>

	* configure.ac: Add checks for ssize_t and socklen_t.
	* acinclude.m4: New file - causes macro for checking for socklen_t
	  to be included from xapian-core.

Mon Apr 26 23:57:15 BST 2004  Richard Boulton <richard@tartarus.org>

	* Makefile.am: Add clients/index.php to dist.

Mon Apr 26 23:22:58 BST 2004  Richard Boulton <richard@tartarus.org>

	* clients/index.php: Add example PHP page using
	  xapian-queryclient.php.
	* clients/xapian-queryclient.php: Add $socket parameter to
	  Enquiry() constructor, to allow location of socket to be
	  configurable.  Fix bug when building request if no query is
	  specified.

Fri Apr 23 19:27:52 BST 2004  Richard Boulton <richard.boulton@omsee.com>

	* (xapian-queryclient.php, xapian-queryserver.txt): Add to dist.

Fri Apr 23 19:14:34 BST 2004  Richard Boulton <richard.boulton@omsee.com>

	* Rename queryclient.php to xapian-queryclient.php, and add it to
	  Makefile.am
	* Install xapian-queryserver in $(exeprefix)/bin

Fri Apr 23 18:18:04 BST 2004  Richard Boulton <richard.boulton@omsee.com>

	* Fix to compile with gcc-2.95

Thu Apr 22 10:27:37 BST 2004  Richard Boulton <richard@tartarus.org>

	* Initial import.  Basically works, but not yet documented or
	  properly tested.

