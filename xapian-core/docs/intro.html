<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE>Xapian: Introduction for developers</TITLE>
</HEAD>
<BODY BGCOLOR="white">

<H1>Xapian - the open source search engine</H1>

<H2>Introduction</H2>

This document is intended to get you going with Xapian, taking you from the
point of downloading the code, to getting an example application compiled
and running.
<p>
Note that Xapian is currently only available in versions targeted for UNIX
systems.

<H3>Download</H3>
The first step is to obtain a copy of the software from <a href="http://www.xapian.org/">the Xapian website</a>.
<!--
Currently there are no
stable releases of Xapian, so for your first explorations we recommend using
one of the nightly snapshots.  These have been compiled and tested for consistency on our test system (though they may not compile on your system,
and may perform incorrectly even if they do).
<p>
Nightly snapshots are generated by SourceForge, and are available at
<a href="http://cvs.sourceforge.net/cvstarballs/xapian-cvsroot.tar.gz">http://cvs.sourceforge.net/cvstarballs/xapian-cvsroot.tar.gz</a>
-->

<H3>Unpacking</H3>
Use the usual tools to unpack the archives.  For example, on a Linux system:
<blockquote> <code>
tar zxvf xapian-core-&lt;versionnumber&gt;<!-- -&lt;date&gt;-->.tar.gz
<br>
tar zxvf xapian-examples-&lt;versionnumber&gt;<!-- -&lt;date&gt;-->.tar.gz
</code> </blockquote>
These commands should unpack the archives into separate subdirectories
("xapian-core" and "xapian-examples").

<H3>Configuring and building Xapian</H3>
Xapian uses the GNU automake and autoconf tools.  If you only wish to build
from the snapshots or make minor alterations, this need not concern you
greatly.
<p>
These tools generate a shell script called "configure" for each of the
archives, which you should run to set up the code for compilation.
<p>
A typical build would be done using the commands:
<pre>
    cd xapian-core
    ./configure
    make
    make install
</pre>

Various options may be given to the configure script: see the installation
documentation within the archive for more details.
<p>
By default, Xapian will be installed in directories under
<CODE>/usr/local</CODE>.  This can be altered using the --prefix option
to configure.
</p>

<H3>Configuring and building the examples</H3>
The examples can be built in almost exactly the same way as the core library.
Simply run:
<pre>
    cd xapian-examples
    ./configure
    make
</pre>
Note that we do not currently recommend attempting to install the
examples.
<p>
<CODE>configure</CODE> should automatically find the installed Xapian
library: if it doesn't you may need to specify the path to the
<CODE>xapian-config</CODE> script, by using the
<CODE>--with-xapian-config</CODE> option to configure.
<p>
Note: you must install the Xapian library to be able to link applications
with it.  In the past we've attempted to allow linking against uninstalled
builds of the library, but it's very hard to do it reliably and portably.
If you don't have the rights to install libraries in /usr/local/lib
(or similar) then you can build Xapian to install under your home directory.

<p>
Supposing you had unpacked both xapian and xapian-examples in the same
directory, you could use:
<pre>
    cd xapian-core
    ./configure --prefix=`pwd`/tempinstall --disable-shared
    make
    make install
    cd ../xapian-examples
    ./configure --with-xapian-config=`pwd`/../xapian-core/tempinstall/bin/xapian-config
    make
</pre>
<p>
Check the documentation within the xapian-examples archive for more details on
building and running the examples.

<H3>Building from CVS</H3>
If you wish to help develop Xapian, you may wish to build directly from the
CVS repository.  Note that this is likely to periodically to contain
severe bugs and/or code which will not compile.  Details on how to access
the CVS repository are available at
<a href="http://sourceforge.net/cvs/?group_id=26013">http://sourceforge.net/cvs/?group_id=26013</a>
<p>
The other drawback of CVS is that you will need to generate your own configure
script and makefiles.  This can be done using the GNU autoconf, automake, and
libtool packages: you must have these installed if you wish to work from CVS.
<p>
We provide a useful script (<code>buildall</code>) to run all the necessary
scripts to generate the project Makefiles.  Simply run <code>./buildall</code>
to run all the necessary scripts.  This will produce a source tree like the
ones in the distribution tarballs, which you can run configure and make on
in the usual way.

</TD>
</TR>
</TABLE>
<!-- FOOTER $Author$ $Date$ $Id$ -->
</BODY>
</HTML>
