<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE>Xapian::QueryParser Syntax</TITLE>
</HEAD>
<BODY BGCOLOR="white" TEXT="black">

<H1>Xapian::QueryParser Syntax</H1>

<P>This document describes the query syntax supported by the
Xapian::QueryParser class.  The syntax is design to be similar to other web
based search engines, so that users familiar with them don't have to learn
a whole new syntax.

<H2>Operators</H2>

<H3>AND</H3>
<P><i>expression</i> AND <i>expression</i> matches documents which are matched
by both of the subexpressions.
<H3>OR</H3>
<P><i>expression</i> OR <i>expression</i> matches documents which are matched
by either of the subexpressions.
<H3>NOT</H3>
<P><i>expression</i> NOT <i>expression</i> matches documents which are matched
by only the first subexpression.
<H3>XOR</H3>
<P><i>expression</i> XOR <i>expression</i> matches documents which are matched
by one or other of the subexpressions, but not both.  XOR is probably a bit
esoteric.
<H3>Bracketed expressions</H3>
<P>You can control the precedence of the boolean operators using brackets.
In the query <code>one OR two AND three</code> the AND takes precedence,
so this is the same as <code>one OR (two AND three)</code>.  You can override
the precedence using <code>(one OR two) AND three</code>.

<H3>+ and -</H3>
<P>A group of terms with some marked with + and - will match documents
containing all of the + terms, but none of the - terms.  Terms
not marked with + or - contribute towards the documents ranking.
<H3>NEAR</H3>
<P><code>one NEAR two NEAR three</code> matches documents containing those
words within 10 words of each other.
<H3>Phrase searches</H3>
<P>A phrase surrounded with double quotes ("") match documents containing
that exact phrase.  Hyphenated words are also treated as phrases, as are
cases such as filenames and email addresses (e.g. /etc/passwd or president@whitehouse.gov).
<H3>Searching within a probabilistic field</H3>
<P>If the database has been indexed with prefixes on probabilistic terms
from certain fields, you can set up a prefix map so that the user can
search within those fields.  For example <code>author:dickens title:shop</code>
might find documents by dickens with shop in the title.  You can also specify a
prefix on a quoted phrase or on a bracketed expression.
<H3>Searching for proper names</H3>
<P>If the databases has been indexed with capitalised words producing R-prefixed
terms from the unstemmed words, then searching for a capitalised word will
match the unstemmed form.
<H3>Searching for already stemmed forms</H3>
<P>A term which ends with a dot is assumed to be already stemmed.  This isn't
useful for users, but omega uses it sometimes for terms added from topterms.
</BODY>
</HTML>
