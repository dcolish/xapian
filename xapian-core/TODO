This file contains items which need to be worked on.


Priority values, in decreasing priority order, are:

 Urgent  - can't do anything else until this is done.
 High    - must be done as soon as possible.
 Medium  - should be done fairly soon.
 Low     - not needed soon.
 Verylow - do when there is nothing else to do.
 Dubious - not sure that we want to do this.

Little Jobs
===========

         |                 |
Priority | Area            | Task
---------+-----------------+--------------------------------------------------
 Urgent  | Richard         | Drink tea
---------+-----------------+--------------------------------------------------
 Urgent  | Chris           | Juggle
---------+-----------------+--------------------------------------------------
 High    | InMemory        | Remove hardcoded reference to an indexer in
         |                 | InMemoryDatabase.  Index to it in the usual way.
---------+-----------------+--------------------------------------------------
 High    |CDistribution    | Make the network server better (multithreaded
         |                 | etc.).
---------+-----------------+--------------------------------------------------
 High    |CDistribution    | Make timeouts configurable with a sensible
         |                 | default.
---------+-----------------+--------------------------------------------------
 High    | Tests	   | Make apitest's tests use da/db backends as well
---------+-----------------+--------------------------------------------------
 High    | Distribution    | Add support for Expand
---------+-----------------+--------------------------------------------------
 High    | LocalMatch      | Pass around partially created postlist as an
         |                 | auto_ptr, for exception safety.
---------+-----------------+--------------------------------------------------
 Medium  | API             | OmDocumentTerm should use a set rather than a
         |                 | map.
---------+-----------------+--------------------------------------------------
 Medium  | Matchers        | Merge get_max_weight() into result of get_mset()
---------+-----------------+--------------------------------------------------
 Medium  | OmDatabase      | Test assignment operators for OmDatabase and
         |                 | OmWritableDatabase
---------+-----------------+--------------------------------------------------
 Medium  | LocalMatch      | Make query a local variable of get_mset(), rather
         |                 | than a member of the class.
---------+-----------------+--------------------------------------------------
 Medium  | Matchers        | Make get_mset() (and MultiMatch::match()) return
         |                 | msets rather than setting a call by reference
	 |                 | parameter.  Change match() to get_mset().
---------+-----------------+--------------------------------------------------
 Medium  | MatchOptions    | Pass all options to matcher (sort order,
         |                 | weighting scheme, and max query terms) right
	 |                 | down to LocalMatch object.  Implement max query
	 |                 | terms.
---------+-----------------+--------------------------------------------------
 Medium  | Databases       | Make OmDatabaseGroup::Internal return same
         |                 | multidatabase object if get_multi_database() is
	 |                 | called repeatedly without calling add_database()
	 |                 | in-between.
---------+-----------------+--------------------------------------------------
 Medium  | Options         | Make an OmOptions object, storing a map of
         |                 | option strings to their values.  Use for things
	 |                 | such as, what debugging to output, what size
	 |                 | caches to use, etc.
---------+-----------------+--------------------------------------------------
 Medium  | Postlist        | Add ability to retrieve collection frequency
         |                 | (ie, sum of wdfs).
---------+-----------------+--------------------------------------------------
 Medium  | Databases       | Make database parameters into name/value pairs,
         |                 | rather than simply be anonymous.
---------+-----------------+--------------------------------------------------
 Medium  | WritableDbs     | Make add_document() atomic.
---------+-----------------+--------------------------------------------------
 Medium  | WritableDbs     | Add pthread locking to all database classes.
---------+-----------------+--------------------------------------------------
 Medium  | Databases       | Ensure that opening a termlist / postlist which
         |                 | is not present throws the correct exception.
---------+-----------------+--------------------------------------------------
 Medium  | Documentation   | Ensure that API documentation covers entirity of
         |                 | API.  Then rewrite it for clarity.
---------+-----------------+--------------------------------------------------
 Medium  | Documentation   | Document backend API (database, postlist,
         |                 | termlist, document, etc) in same way as enquire
	 |                 | API.
---------+-----------------+--------------------------------------------------
 Medium  | Positional      | Pass within-query-frequency and query length
	 |                 | information to matcher.
---------+-----------------+--------------------------------------------------
 Medium  |RPositional      | Add a get_positionlist() method to databases.
---------+-----------------+--------------------------------------------------
 Medium  |RPositional      | Implement phrase searching. - AND postlist, scan
	 |                 | through positionlist for sequential positions.
---------+-----------------+--------------------------------------------------
 Medium  | MultiMatch      | Check that weights returned by a multimatch over
         |                 | a set of multidatabases are same as those over
	 |                 | the complete set as a single multidatabase.
	 |                 | May need to turn approximation for termfrequency
	 |                 | off.  Also, make sure that each subdatabase
	 |                 | has the appropriate value in its "root" field.
---------+-----------------+--------------------------------------------------
 Medium  | MultiDatabase   | Check that query expansion over a MultiDatabase
         |                 | gives the same result as over an equivalent
	 |                 | single InMemory database.
---------+-----------------+--------------------------------------------------
 Medium  | General         | If two OmEnquire objects are initialised with
         |                 | the same OmDatabase, they should share the
	 |                 | same IRDatabase object.  This could be done with
	 |                 | reference counted internals of OmDatabase
	 |                 | (though this might cause problems if the
	 |                 | OmDatabase was subsequently modified - it could
	 |                 | make new internals for itself in that situation,
	 |                 | though).  Would need pthread locks in the
	 |                 | database class in this case, which might be less
	 |                 | efficient, or might avoid resource conflicts and
	 |                 | be better.
---------+-----------------+--------------------------------------------------
 Medium  | General / API   | Put Om into its own namespace, to ensure lack of
         |                 | symbol conflicts.
---------+-----------------+--------------------------------------------------
 Medium  | General         | Make om_queryop a member of OmQuery, as far as
	 |                 | the API is concerned.  Have an internal typedef
	 |                 | so that this isn't inappropriate internally.
---------+-----------------+--------------------------------------------------
 Medium  | Sleepycat       | Make sleepylist use a list rather than a vector?
         |                 | Check behaviour when halfway through list and an
	 |                 | item is added.
---------+-----------------+--------------------------------------------------
 Medium  | Sleepycat       | Implement termlists, keys, and collection stats.
---------+-----------------+--------------------------------------------------
 Medium  | MultiMatch      | Check that MultiMatch::get_max_weight()
         |                 | returns correct value in case where some of the
	 |                 | query terms are not present in some of the sub
	 |                 | databases.
---------+-----------------+--------------------------------------------------
 Medium  | Matchers        | Deprecate get_max_weight() - not useful
         |                 | independently of get_mset(), which now returns
	 |                 | its value.
---------+-----------------+--------------------------------------------------
 Medium  | MultiDatabase   | Termcache currently clears itself when full: make
         |                 | more efficient.
---------+-----------------+--------------------------------------------------
 Medium  | Stemming        | Make a separate package to contain stemming
         | Algorithms      | algorithm stuff (docs, code, stemtest)
---------+-----------------+--------------------------------------------------
 Low     | Purify          | Write autoconf macro to turn on purify support.
         |                 | Submit to http://peti.cys.de/autoconf-archive/
---------+-----------------+--------------------------------------------------
 Low     | Documentation   | Add notes about catching exceptions throughout
         |                 | userman, particuarly in examples (eg, search
	 |                 | engine example)
---------+-----------------+--------------------------------------------------
 Low     | Backends        | Make SleepyTermCache lose entries eventually
         |                 | (will currently eat up entire memory).
---------+-----------------+--------------------------------------------------
 Low     |cBackends        | Use pthread locks around inmemory methods
---------+-----------------+--------------------------------------------------
 Low     | Backends        | Use pthread locks around database methods
---------+-----------------+--------------------------------------------------
 Low     | Website         | Put TeX documentation on website.
---------+-----------------+--------------------------------------------------
 Low     | Documentation   | Merge output of mkdoc.pl with doc++ output. 
---------+-----------------+--------------------------------------------------
 Low     | Documentation   | Support use of doxygen to generate documentation
         |                 | and use this for documentation on website.
---------+-----------------+--------------------------------------------------
 Low     | Backends        | Stop d[ba]read from exporting junk symbols
---------+-----------------+--------------------------------------------------
 Low     | InMemory        | Make InMemoryDatabase allow
         |                 | <size of position vector> != <wdf>, ie, if
	 |                 | posting is made and position is already there,
	 |                 | leave position vector same but increment wdf.
---------+-----------------+--------------------------------------------------
 Low     |RPositional      | Use within query frequency and query length
	 |                 | information in matcher.
---------+-----------------+--------------------------------------------------
 Low     |cExamples        | Fix the ferretfx example
---------+-----------------+--------------------------------------------------
 Low     |cGeneral         | Audit for exception safety.
---------+-----------------+--------------------------------------------------
 Low     |cTODO            | Write some VIM macros to deal with this TODO
---------+-----------------+--------------------------------------------------
 Low     | SleepyCat       | Make configure.in detect presence of sleepycat
---------+-----------------+--------------------------------------------------
 Verylow | General         | Improve performance using SIMD instructions
---------+-----------------+--------------------------------------------------
 Verylow | General         | Make backends / weighting schemes / indexer
	 |                 | modules register themselves automatically.  At
	 |                 | runtime / linktime?  (ie, replace current
	 |                 | conditional compilation scheme)
---------+-----------------+--------------------------------------------------
 Verylow | Backends        | Split database definition files into
	 |                 | database/postlist/termlist files.
---------+-----------------+--------------------------------------------------
 Verylow | General         | A couple of objects get copied a lot - look into
         |                 | doing copy-on-write for them.  (Notably term
	 |                 | objects (currently strings so this happens, but
	 |                 | may not stay that way) and ExpandBits)
---------+-----------------+--------------------------------------------------
 Verylow | API		   | Do allow boolean subqueries in OmQuery
         |                 | constructors, where it makes sense.
---------+-----------------+--------------------------------------------------
 Dubious | Weighting       | Allow for a non-zero minimum value for the ndl
	 |                 | (normalised doc len).
---------+-----------------+--------------------------------------------------
 Dubious | General         | Rename some methods to use consistent
         |                 | nomenclature: eg get_termfreq -> get_cfreq
	 |                 | (cf = collection frequency)
---------+-----------------+--------------------------------------------------
 Dubious | Matcher         | Boolean filters result in collection statistics
         |                 | being for the wrong set of documents (should be
  	 |                 | appropriate subset)
---------+-----------------+--------------------------------------------------
 Dubious | General         | Use term classes instead of prefixes
---------+-----------------+--------------------------------------------------


Big Jobs
========

---------+-----------------+--------------------------------------------------
 High    | API             | Write bindings for other languages (Java, C,
         |                 | perl, python, etc.).
---------+-----------------+--------------------------------------------------
 High    | Performance     | Write (speed) performance test suite.
---------+-----------------+--------------------------------------------------
 High    |gIndexer         | Write indexer modules.
---------+-----------------+--------------------------------------------------
 Low     | Positional      | Passage retrieval.
---------+-----------------+--------------------------------------------------
 Low     | Matcher         | Clustering algorithms.
---------+-----------------+--------------------------------------------------
 Verylow | General         | Sanify and implement introspection methods -
	 |                 | get_database_path, etc.  Should be able to get
	 |                 | entire state of database by introspection.
	 |                 | Extend introspection methods to cover all
	 |                 | objects.
---------+-----------------+--------------------------------------------------
