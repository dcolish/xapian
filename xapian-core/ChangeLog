Tue Mar 21 15:08:11 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Implemented OmQueryInternal::operator=()

Tue Mar 21 11:42:39 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Fixes to m4 macro.  Now works correctly in both installed and
	  uninstalled cases.

Mon Mar 20 13:02:37 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Removed old Match::boolmatch() methods - superceded.

Mon Mar 20 12:50:40 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Made OmEnquire use reversebool when specified in moptions.
	  All tests now pass!

Mon Mar 20 12:23:03 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Made OmEnquire use BoolWeight to get result for boolean queries.
	  Doesn't yet pass correctness tests.

Mon Mar 20 12:21:19 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added an internaltest test for the refcounted pointers

Fri Mar 17 18:55:40 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Added BoolWeight object, returns zero for all methods, for pure
	  boolean queries.

Fri Mar 17 18:38:18 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Added set_weighting() method to match, to set weighting scheme
	  to be used (as a value from the IRWeight::weight_type enum).
	  Updated OmEnquire to use this: ability to set weight is just
	  one little step away from the API and the user now.

Fri Mar 17 13:39:10 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Declare this to be version 0.1.1

Thu Mar 16 17:33:36 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* New program "internaltest" added to the test suite, for
	  testing code behind the API.

	* Can now disable pthread support via configure

Thu Mar 16 13:01:46 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Fixes for uninitialised memory problems.  (malloc was being
	  assumed to zero the returned memory.)

Thu Mar 16 12:49:44 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* New OmDocument which is copyable, and is actually a wrapper
	  around LeafDocument.

	* Added reference-counted smart pointer, used in above.

Wed Mar 15 18:27:10 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Now uses a MultiMatch object to do match.  Doesn't yet use more
	  than one LeafMatch for this object though.

Tue Mar 14 18:46:17 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Match now has the appropriate virtual methods, which are
	  implemented by LeafMatch, and will be implemented by MultiMatch.
	  Some work in OmEnquire, so that I can test this.

Tue Mar 14 13:33:43 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Make sure we don't have -g in compile line if debugging is off.

Thu Mar  9 17:12:16 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Declare this to be version 0.1.0

Thu Mar  9 17:48:02 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Fix many spurious debugging messages

Thu Mar  9 17:03:35 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added test for OmBatchEnquire (and fixed a bug in it)

Thu Mar  9 16:00:18 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Don't use -O6 when debugging is turned on.  Debug compiles
	  are much faster now.

Thu Mar  9 15:46:17 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Stemtest.pl now cleans up after itself a bit better.

Thu Mar  9 15:17:47 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Use Stats objects to pass statistics needed for the match around,
	  instead of directly asking the database.

	* Change parameters for BM25Weight: attach less importance to
	  document length.

	* Now copes with empty sub-databases rather better.

	* Calculate max_possible_weight (and thus percentages) correctly
	  when using BM25Weight.  (Had forgotten additive parameter.)

	* More debugging messages available.

Thu Mar  9 11:20:55 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Removed inline from omenquireinternal methods.

Wed Mar  8 18:24:27 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added OmBatchEnquire for batch queries.

Tue Mar  7 18:09:36 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added configure option to use error-checking mutexes instead
	  of the (portable) default.

Tue Mar  7 12:20:08 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Sleepycat backend now compiles, although undoubtably isn't
	  going to work properly.

Tue Mar  7 12:17:47 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added OmRangeError and OmDatabaseError exceptions.

Mon Mar  6 18:05:17 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* stemtest.pl now handles the child getting a Ctrl-C nicely.

Fri Mar  3 15:25:42 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Added to one of the tests in apitest a check that the weights
	  returned by a query are as expected.  This will fail if weighting
	  schemes are changed, deliberately or accidentally.

Fri Mar  3 11:25:36 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* OmQuery now does a better job of collapsing sub-queries
	  with the same operator.  Yet another test now passes.

Thu Mar  2 17:47:29 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Moved omenquire and omstem into new directory api

	* Split omenquire.cc into omenquire, omquery, and omdatabase

Thu Mar  2 14:53:47 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Removed all mentions of virtual inheritance.
	
Thu Mar  2 10:58:19 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Begun to abstract statistics requesting and collecting operations
	  (common/stats.h)

	* Made heirarchy of Match objects: Match, LeafMatch, MultiMatch.

Thu Mar  2 10:39:20 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added locks to OmDatabase methods

Wed Mar  1 19:14:02 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Separated OmDatabase out from OmEnquire, and fixed the tests.

Tue Feb 29 17:41:32 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Change OmMatch to LeafMatch.  Make LeafMatch inherit from Match,
	  which is currently an empty class, but will be a base class for
	  all match objects.

Tue Feb 29 10:49:54 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Fixed apitest following the stemming changes

	* Fixed a bug which broke query length calculation

Mon Feb 28 17:26:01 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added a test for the query collapsing, along with a fix.

Mon Feb 28 16:32:22 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Queries now combine identical terms into a single term
	  with the sum of the wqfs in some cases.

Mon Feb 28 13:09:18 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Query lengths are now automatically calculated

	* Some tests of the query length calculation are now in apitest

Fri Feb 25 16:38:46 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added a test for -Wno-long-long in configure.in

Fri Feb 25 14:29:00 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Separated most of OmQuery into an OmQueryInternal class.

	* Locks in the OmQuery methods

Thu Feb 24 20:10:28 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Added test for behaviour when trying to use a file which doesn't
	  exist.

Thu Feb 24 16:12:16 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Changed DBPostlist to LeafPostlist.

	* Added DBDatabase and related classes, for reading DB format (old
	  muscat) databases.

Thu Feb 24 14:36:45 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added locking to OmStem

Thu Feb 24 14:18:29 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Cleaned up the public/private separation in OmEnquire{Internal}

	* Added exclusive locks to all public methods

Wed Feb 23 19:00:10 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added initial pthread locking support.  More does need to be
	  done.

Wed Feb 23 17:33:43 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added a test "includetest" which simply checks that a program
	  which includes all headers in the project compiles.

Wed Feb 23 14:46:16 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Muscat36 backend now replaces DA backend.
	  Should be able to cope with both flimsy and heavy duty DA files.
	  DB stuff will be added shortly.

Wed Feb 23 14:44:58 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added (mostly private unimplemented) copy-constructors and
	  assignment operators to several classes.  Also added some
	  virtual destructors where needed.

Mon Feb 21 18:07:14 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Attempts to build a query with a boolean subquery throws an
	  exception for now.

Mon Feb 21 15:33:10 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added test for OmEnquire::get_matching_terms()

	* Fixed OmEnquire::get_matching_terms

Mon Feb 21 14:38:30 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Made OmQuery::get_terms() public, tightened the specification,
	  and made it conform to the specification.
	
	* Added a test for the above to apitest

	* Fixed a bug in OmQuery::initialise_from_copy() to make the above
	  test work.

Fri Feb 18 18:06:21 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Databases now have a get_doclength() method, to return the length
	  of a given document.  There may be efficiency issues with using
	  this during the search, however.

	* Extra constant terms, such as that in BM25Weight, now used
	  and accounted for in min weight calculations.

Fri Feb 18 17:49:13 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* OmQuery::get_terms now returns the terms in termpos order.

Fri Feb 18 13:53:34 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

        * Added second test for reversed boolean queries.
	  (When the full mset is not returned.)

Fri Feb 18 13:54:37 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Implemented match functors

	* IRDocument is now OmDocument, on <om/omdocument.h>

Fri Feb 18 13:53:34 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Added test for reversed boolean queries.

Thu Feb 17 18:13:24 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added a test for collapsing on a key

Thu Feb 17 16:57:42 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added interface to stemming algorithms to API (OmStem class)

Thu Feb 17 12:00:33 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Header files now get installed in a subdirectory (om/)

Tue Feb 15 17:03:31 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Implemented the "allow query terms" option for Expand Terms.

	* Added some useful ExpandDeciders to omenquire.h

Tue Feb 15 12:59:43 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* The dvi documentation is now automatically built and added
	  to the distribution.

Mon Feb 14 17:23:38 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Implemented OmQuery::get_terms()

	* Implemented OmEnquire::get_matching_terms()

Mon Feb 14 13:37:56 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added tests for OmExpandOptions and OmMSet.max_attained

Fri Feb 11 18:40:39 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Fixed the percent cutoff test in apitest.

Fri Feb 11 17:52:42 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added percent cutoff to the API, and added a test to apitest
	  for it.

Fri Feb 11 16:44:34 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* The api docs now go into the distribution tarball.

Thu Feb 10 18:53:33 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added OmEnquire::get_matching_terms() to the API.

Thu Feb 10 18:02:37 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added tests to apitest for the match and expand decision functors,
	  and added another shorthand function to reduce code duplication.

Thu Feb 10 16:04:45 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* More documentation in omenquire.h

	* Changed isnull to isdefined (note change of sense), since this makes
	  more sense, and is hopefully less likely to confuse.

Thu Feb 10 14:17:31 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Lots more documentation comments in omerror.h and omenquire.h

	* Added API calls to set decision functors for matcher - not yet
	  implemented, however.

Wed Feb  9 17:11:13 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Implemented far enough for it to compile.
	  (Doesn't calculate query length automatically)

Wed Feb  9 16:45:19 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Added calls to specify within query frequency, positional
	  information, and query length.  Not yet implemented.  (So, won't
	  compile.)

	* Can set boolean flag on a query directly.

	* Many documentation comments added to header files in include/

Wed Feb  9 16:42:08 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* stemtest.pl handling of random input data improved:

	  o doesn't bother regenerating the random data every time.

	  o the seed is actually generated from the hostname, rather
	    than being hard-coded to 1.

	  o support for running the test with a specified seed

	  o some basic tests that the output is sensible

Wed Feb  9 14:52:54 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Rename all exception classes to have names ending in Error

Wed Feb  9 14:48:48 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added and implemented get_doc_data in OmEnquire

	* Now get msets and esets by return value rather than reference
	  argument.

Wed Feb  9 11:18:48 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Fixed the header guards (now all caps, should be unique, and don't
	  start with underscores).

Tue Feb  8 20:04:34 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Changed prefix OM to Om in all class names.

Tue Feb  8 19:17:53 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

        * Changed OMMSet::max_weight to OMMSet::max_possible.
          Added OMMSet::max_attained, which is weight of top match, (not
          neccessarily top item in MSet)

        * Allow user to specify decision function for expand.

        * Also allow user to specify that query terms should not be returned
          by expand, by calling OMExpandOptions::use_query_terms().                       This does not yet work, however.

        * Add many code comments, and make doc++ stuff work better.

Tue Feb  8 19:13:43 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added some more tests.

Tue Feb  8 16:51:22 GMT 2000 Richard Boulton <richard.boulton@open.muscat.com>

	* Fixed boolean only querying.

	  o) Made isbool get set correctly (was being unset by
	    initialise_from_copy)

	  o) Set max_weight correctly.

Tue Feb  8 16:28:48 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added the stemmer test script, stemtest.pl

Mon Feb  7 19:17:25 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Prefix all the types in omtypes.h with "om_".

Mon Feb  7 17:37:52 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Added a test of boolean-only queries to apitest, which fails.

Mon Feb  7 15:56:43 GMT 2000 Chris Emerson <chris.emerson@open.muscat.com>

	* Improved exception hierarchy:

	  o Exceptions are all split between `OmLogicError' and
	    `OmRuntimeError'.
	    
	  o Plain `OmError' exceptions are no longer allowed.

	  o All exception classes are prefixed with `Om'.

Mon Feb  7 12:57:12 GMT 2000 Richard Boulton <richard.boulton@open.muscat.com>

	* Make get_eset()'s max_items parameter work.
          (Changed max_esize in OMExpand from a member to a parameter of
	  expand() )

	* Implemented add_database() correctly in OMEnquire: can now do
	  multi database stuff.

Mon Feb  7 12:53:33 GMT 2000  Chris Emerson <chris.emerson@open.muscat.com>

	* Added tests to apitest for maxitems parameters and null queries

Mon Jan 31 17:00:18 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* OMMatch stores query in a pointer rather than the historical
	  remnants of a stack.
	  OMEnquire updated accordingly.

	* OMEnquire deallocates RSet correctly.

	* querygui example compiles and works.

Fri Jan 28 16:44:49 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Fixed problems with assigning to a query (old query elements were
	  left in place.)  Implemented automatic merging of OR and AND nodes
	  into a single list of terms to be ORed or ANDed.

Fri Jan 28 15:53:53 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Added introspection methods to OMQuery.

Fri Jan 28 13:41:20 GMT 2000  Richard Boulton <richard.boulton@open.muscat.com>

	* Started Changelog

	* Previous state of code:

	  o An API for searching has just been created, but is undocumented,
	    will change in various ways in the coming weeks, and isn't quite
	    implemented correctly when building queries containing more than
	    one term.

	  o Stemming algorithms for dutch, english, french, german, italian,
	    portuguese and spanish added and tested.

	  o Searching through DA databases, raw text files (with naive
	    indexer) and multiple databases implemented.

	  o Documentation in a reasonably sorry state.  Next week is
	    documentation week.
